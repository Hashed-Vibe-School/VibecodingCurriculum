# Chapter 16: 챗봇 만들기

[English](./README.md) | **한국어**

## 이 챕터에서 배우는 것

- Discord 봇을 Claude와 함께 만드는 과정
- 봇 기능을 점진적으로 확장하는 방법
- Slack 봇으로 패턴 확장하기

---

## 왜 챗봇인가?

챗봇은 실제로 사용할 수 있는 결과물이 나오는 프로젝트입니다:
- 여러분의 Discord 서버에서 바로 사용
- 팀 Slack에서 업무 자동화
- 24시간 동작하는 자동화 도구

**챗봇 요청 팁:**

```
> Discord 봇을 만들어줘.
> /hello 명령어를 입력하면 "안녕하세요!"라고 응답하고,
> /dice 명령어를 입력하면 1-6 사이 랜덤 숫자를 보여줘.
```

명령어 이름, 트리거 조건, 응답 내용을 명확히 설명하면 원하는 봇을 얻을 수 있습니다.

---

## 프로젝트: Discord 봇 만들기

### Step 1: 사전 준비 (한 번만 하면 됨)

Discord 개발자 포털에서 봇을 생성해야 합니다. Claude에게 물어보세요:

```
> Discord 봇을 만들려고 해.
> Discord Developer Portal에서 봇을 생성하고
> 서버에 초대하는 방법을 알려줘.
```

Claude가 안내해주는 단계:
1. Discord Developer Portal 접속
2. 새 Application 생성
3. Bot 토큰 발급
4. OAuth2 URL로 서버 초대

**중요**: 토큰은 비밀번호와 같습니다. 절대 코드에 직접 넣지 마세요!

### Step 2: 프로젝트 시작

```
> Discord 봇 프로젝트를 만들어줘.
> discord.js를 사용하고,
> .env 파일로 토큰을 관리하게 해줘.
> 일단 봇이 온라인 되면 콘솔에 메시지만 출력하는 것부터.
```

이 요청으로 Claude가 만들어주는 것:
- 프로젝트 폴더 구조
- package.json
- .env 파일 템플릿
- 기본 봇 코드

### Step 3: 첫 번째 명령어

```
> /ping 명령어를 추가해줘.
> 봇의 응답 시간을 밀리초로 보여주는 기능이야.
```

작동 확인 후 다음 명령어를 추가합니다:

```
> /dice 명령어를 추가해줘.
> 옵션으로 면 수를 받을 수 있게 하고 (기본값 6),
> 주사위 굴린 결과를 보여줘.
```

**요청 팁**: 한 번에 여러 명령어를 요청하지 말고, 하나씩 추가하며 테스트하세요.

---

## 기능 확장하기

### 투표 기능

```
> /poll 명령어를 만들어줘.
> - 질문과 선택지 2-4개를 입력받아
> - 예쁜 임베드로 표시하고
> - 각 선택지에 자동으로 이모지 반응을 달아줘
```

### 알림 기능

```
> /remind 명령어를 만들어줘.
> - 몇 분 후에 알림을 받을지 입력
> - 알림 내용 입력
> - 시간이 되면 그 사용자를 멘션해서 알려줘
```

### 유틸리티

```
> /avatar 명령어를 만들어줘.
> 유저를 선택하면 그 유저의 프로필 이미지를 크게 보여줘.
> 아무도 선택 안 하면 자기 자신 이미지.
```

---

## 이벤트 기반 기능

슬래시 커맨드 외에도 다양한 이벤트에 반응할 수 있습니다.

### 환영 메시지

```
> 새로운 멤버가 서버에 들어오면
> #welcome 채널에 환영 메시지를 보내줘.
> 그 사람 프로필 사진과 함께 예쁜 임베드로.
```

### 메시지 로깅

```
> 메시지가 삭제되면 #logs 채널에 기록해줘.
> 누가 어떤 메시지를 삭제했는지 보여주고,
> 봇의 메시지는 제외해.
```

### 자동 반응

```
> 메시지에 "ㅋㅋㅋ"가 포함되어 있으면
> 😂 이모지로 반응해줘.
```

---

## 실용적인 봇 예시

### 서버 관리 봇

```
> 서버 관리 봇을 만들어줘. 다음 명령어들이 필요해:
>
> /kick [유저] [사유]
> - 관리자만 사용 가능
> - 해당 유저를 서버에서 추방
>
> /clear [개수]
> - 관리자만 사용 가능
> - 최근 메시지 N개 삭제
>
> /serverinfo
> - 누구나 사용 가능
> - 서버 정보 (멤버 수, 생성일 등) 표시
```

### 미니 경제 시스템

```
> 미니 경제 시스템이 있는 봇을 만들어줘.
>
> /balance - 내 잔액 확인
> /daily - 하루에 한 번 100코인 받기
> /give [유저] [금액] - 다른 유저에게 송금
>
> 데이터는 JSON 파일로 저장해줘.
> 유저 ID를 키로, 잔액을 값으로.
```

---

## Slack 봇으로 확장하기

Discord에서 익힌 패턴은 Slack에도 적용됩니다.

### 핵심 개념은 동일

| 개념 | Discord | Slack |
|------|---------|-------|
| 명령어 | /ping | /ping |
| 이벤트 반응 | client.on('event') | app.event('event') |
| 메시지 응답 | interaction.reply() | say() |

### Slack 봇 시작하기

```
> Slack 봇 프로젝트를 만들어줘.
> Bolt 프레임워크를 사용하고,
> /ping 명령어에 응답하는 기본 봇부터.
> Slack 앱 설정 방법도 알려줘.
```

### 업무 자동화 예시

```
> Slack 봇에 다음 기능을 추가해줘:
>
> /standup 명령어
> - 오늘 할 일, 어제 한 일, 막힌 점을 입력받는 모달 띄우기
> - 입력하면 #standup 채널에 예쁘게 정리해서 올리기
```

```
> 봇이 멘션되면 자동으로 응답하게 해줘.
> "회의실 예약" 키워드가 있으면 회의실 예약 링크 안내,
> 그 외에는 "무엇을 도와드릴까요?" 응답.
```

---

## 봇 배포하기

로컬에서만 실행하면 컴퓨터를 끄면 봇도 꺼집니다. 24시간 운영하려면 배포가 필요합니다.

```
> 이 Discord 봇을 Railway에 배포하는 방법 알려줘.
> 환경변수 설정하는 방법도.
```

### 무료 배포 옵션

| 서비스 | 특징 |
|--------|------|
| Railway | $5 무료 크레딧/월, 설정 쉬움 |
| Render | 무료, 비활성 시 슬립 |
| Fly.io | 무료 티어 있음 |

---

## 디버깅 팁

봇이 응답하지 않을 때:

```
> 봇이 명령어에 응답하지 않아.
> 콘솔에는 에러가 없고, 봇은 온라인 상태야.
> 뭐가 문제일 수 있을까?
```

Claude가 체크해줄 것들:
- 슬래시 커맨드가 Discord에 등록되었는지
- 봇 권한 설정
- Intents 설정
- 토큰이 올바른지

---

## 실습 과제

### 기본 과제

여러분만의 Discord 봇을 만들어보세요:

```
> 다음 기능이 있는 Discord 봇을 만들어줘:
>
> 1. /quote - 랜덤 명언 보여주기
> 2. /choose [선택지들] - 여러 선택지 중 하나 골라주기
> 3. /8ball [질문] - 마법의 8볼처럼 랜덤 답변
>
> 기본 구조부터 시작해서 하나씩 추가해줘.
```

### 심화 과제

```
> 음악 추천 봇을 만들어줘.
> /mood [기분] 명령어로 기분을 입력하면
> 그 기분에 맞는 노래 장르나 분위기를 추천해줘.
> (실제 음악 재생은 복잡하니까 추천만)
```

```
> 할 일 관리 봇을 만들어줘.
> - /todo add [내용] - 할 일 추가
> - /todo list - 내 할 일 목록 보기
> - /todo done [번호] - 완료 표시
> - 데이터는 JSON으로 저장
```

---

## 정리

이번 챕터에서 배운 것:
- [x] Discord 봇 프로젝트 시작하기
- [x] 슬래시 커맨드 추가하기
- [x] 이벤트에 반응하기
- [x] Slack 봇으로 패턴 확장
- [x] 봇 배포하기

챗봇의 핵심은 **"이 이벤트가 발생하면 이렇게 응답한다"**입니다. 이 패턴을 이해하면 어떤 플랫폼에서든 봇을 만들 수 있습니다.

Claude에게 요청할 때는:
1. 어떤 명령어/이벤트에 반응할지
2. 어떤 입력을 받을지
3. 어떤 출력을 할지

이 세 가지를 명확히 하면 원하는 봇을 만들 수 있습니다.

다음 챕터에서는 프론트엔드와 백엔드를 모두 갖춘 풀스택 앱을 만들어봅니다.

[Chapter 17: 풀스택 앱 만들기](../Chapter17/README.ko.md)로 넘어가세요.
